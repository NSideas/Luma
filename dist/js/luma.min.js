// GLOBAL
// Browser test
function mediaMatches(e){return null!==mq&&mq[e].matches}
// Touch screen test
function touchHandler(e){document.removeEventListener("mousemove",mouseMoveHandler),touch=!0,$("html").addClass("touch").removeClass("no-touch")}function mouseMoveHandler(){touch=!1,$("html").removeClass("touch").addClass("no-touch")}function smoothScrollTop(e){e.preventDefault(),$("html, body").animate({scrollTop:0},500)}
// Handle menu open/close states on resize
function headerResize(){mediaMatches("large")&&(nav_is_open||top_menu_is_open?($("#header-nav").attr("style","").removeClass("open"),$("#menu-toggle").removeClass("nav-open"),$(".header-top-container").attr("style","").removeClass("open"),top_menu_is_open=nav_is_open=!1):($(".header-top-container").attr("style",""),$("#header-nav").attr("style","")))}
// Fix header on scroll
function headerScroll(){window.scrollY>headerScrollTrigger&&!header_fixed?($("#header").addClass("fixed"),header_fixed=!0):window.scrollY<=headerScrollTrigger&&($("#header").removeClass("fixed"),header_fixed=!1)}
// Overlay Modules
function openFormOverlay(e){e.fadeIn(200,function(){e.find(".overlay-module--inner-wrap").addClass("visible")}),$("body").addClass("no-scroll")}function closeFormOverlay(e){e.find(".overlay-module--inner-wrap").removeClass("visible"),e.fadeOut(200),$("body").removeClass("no-scroll")}
// Team
function staffList(){var t=$("#staff-list--inner").innerWidth(),a=$("#staff-list--inner")[0].getBoundingClientRect().left;$(".team-member-bio").each(function(){$(this).css("left","0"),$(this).width(t);var e=$(this)[0].getBoundingClientRect().left;if(e!==a){var o=e-a;$(this).css("left","-"+o+"px")}})}
// @codekit-prepend 'partials/global.js';
// @codekit-prepend 'partials/header.js';
// @codekit-prepend 'partials/home.js';
// @codekit-prepend 'partials/overlay.js';
// @codekit-prepend 'partials/staff-list.js';
function globalResizeHandler(){headerResize(),$("#staff-list").length&&staffList()}function toggleScrollTop(e){window.scrollY>e&&!top_button_visible?($("#scroll-top-container").fadeIn(300),top_button_visible=!0):window.scrollY<=e&&($("#scroll-top-container").fadeOut(300),top_button_visible=!1)}function globalScrollHandler(){clearTimeout(timeout),headerScroll(),mediaMatches("medium")&&toggleScrollTop(window.innerHeight/2),timeout=setTimeout(function(){headerScroll(),mediaMatches("medium")&&toggleScrollTop(window.innerHeight/2)},250)}bowser.msie?$("html").addClass(9<bowser.version?"ie":"ie-old"):bowser.msedge?$("html").addClass("msedge"):bowser.firefox&&$("html").addClass("firefox");
// Media Queries
var mq=bowser.msie?null:{small:window.matchMedia("(min-width: 480px)"),medium:window.matchMedia("(min-width: 720px)"),large:window.matchMedia("(min-width: 860px)"),xl:window.matchMedia("(min-width: 960px)")},touch=!0;$("html").addClass("touch"),document.addEventListener("touchstart",touchHandler,{once:!0}),document.addEventListener("mousemove",mouseMoveHandler,{once:!0});var scrollTopBtn=document.getElementById("btn-scroll-top");scrollTopBtn.addEventListener("click",smoothScrollTop),
// Highlight current nav item
$(".main-nav-item a").each(function(){var e,o;$(this)[0].href===window.location.origin+window.location.pathname&&($(this).addClass("current"),$(this).closest(".main-nav-item").addClass("current"))});
// Main Nav hide/show
var nav_is_open=!1;$("#menu-toggle").click(function(){var e=$("#header-nav"),o=$("#menu-toggle");nav_is_open=nav_is_open?(e.slideUp(300).removeClass("open").addClass("closed"),o.removeClass("nav-open").addClass("animating"),setTimeout(function(){o.removeClass("animating")},250),!1):(e.slideDown(300).addClass("open").removeClass("closed"),o.addClass("animating"),setTimeout(function(){o.addClass("nav-open").removeClass("animating")},250),!0)}),
// Handle main nav click/touch
$("#header-nav .main-nav-item > a").click(function(e){e.preventDefault();var o=$(this).closest(".main-nav-item");touch&&!o.hasClass("hover")?(o.addClass("hover"),o.siblings().removeClass("hover"),document.addEventListener("touchstart",function(e){e.target.closest(".main-nav-item")||$(".main-nav-item.hover").removeClass("hover")},{once:!0})):window.location=$(this).attr("href")});
// Header Top Menu hide/show
var top_menu_is_open=!1;$("#toggle-top-menu").click(function(){var e=$(this).prev(".header-top-container");top_menu_is_open=top_menu_is_open?(e.slideUp(300).removeClass("open").addClass("closed"),!1):(e.slideDown(300).addClass("open").removeClass("closed"),!0)});var header_fixed=!1,headerScrollTrigger=mediaMatches("xl")?200:120,homePageSlider=new Swiper("#home-page-slider",{speed:0,followFinger:!1,autoHeight:!0,threshold:16,slideClass:"hp-slide",autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"home-page-slider-bullet",bulletActiveClass:"active"}});$('a[href^="#"]').click(function(e){e.preventDefault();var o=$(this).attr("href");if("#"===o)return!1;$(o)&&$(o).hasClass("overlay-module")?openFormOverlay($(o)):window.location.href=o}),$(".overlay-module .btn-close").click(function(){var e;closeFormOverlay($(this).closest(".overlay-module"))}),$(".overlay-module--outer-wrap").click(function(e){var o;e.target.closest(".overlay-module--inner-wrap")||closeFormOverlay($(this).closest(".overlay-module"))}),$("#staff-list").length&&staffList(),$(".team-member-link").click(function(e){e.preventDefault();var o=$(this).parent();o.siblings().removeClass("active"),o.toggleClass("active");var t=o.offset().top;t-=mediaMatches("xl")?110:90,$(document).scrollTop(t)}),$(".team-member .btn-close").click(function(){$(this).closest(".team-member").removeClass("active")}),window.addEventListener("resize",debounce(globalResizeHandler,300));var top_button_visible=!1,timeout;window.addEventListener("scroll",throttle(globalScrollHandler,200));
//# sourceMappingURL=luma.min.js.map